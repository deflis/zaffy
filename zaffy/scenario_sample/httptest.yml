#type: http_setting
#
#url_base: "http://hogefuga.com/piyo/"
#
#---
type: scenario
desc: HTTP test

actions:
- action: http.post
  url: http://localhost:8000/
  params:
    hoge: 10
    fuga: piyo

- action: http.get
  url: http://hogefugapiyo.com/
  assertex:
   - true # なんらかの例外が発生することだけをチェックしたい場合
   - ex|classname == 'ConnectionError'

- action: http.get
  url: http://google.co.jp/
  assert:
   - res.status == 200
   #- res.status in [300,2,3]
   #- res.encoding is json_equal '{"hoge":10}'
   #- '"stat" in "instatu"'
   #- '"p3p" in res.headers'
   #- res.cookies.PREF == "hoge"
   #- res.content|length < 200
   #- res.encoding|upper == "hoge"

  assertex:
   - ex|classname == 'ConnectionError'

